<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Super Private Browser - ุงูุชุญูู</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background: #111827;
      color: white;
    }

    .form-input {
      width: 100%;
      background-color: #374151;
      color: white;
      padding: 0.5rem;
      border-radius: 0.375rem;
      margin-bottom: 0.5rem;
      border: 1px solid #4b5563;
      transition: all 0.3s;
    }

    .form-input:focus {
      border-color: #3b82f6;
      outline: none;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .section {
      background-color: #1f2937;
      padding: 1.5rem;
      border-radius: 0.5rem;
      margin-bottom: 1.5rem;
    }

    .section-title {
      font-size: 1.125rem;
      font-weight: bold;
      color: #60a5fa;
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .btn {
      border: none;
      border-radius: 0.375rem;
      color: white;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
      padding: 0.5rem 1rem;
    }

    .btn-primary {
      background-color: #2563eb;
    }

    .btn-primary:hover {
      background-color: #1d4ed8;
    }

    .btn-success {
      background-color: #16a34a;
    }

    .btn-success:hover {
      background-color: #15803d;
    }

    .btn-danger {
      background-color: #dc2626;
    }

    .btn-danger:hover {
      background-color: #b91c1c;
    }

    .btn-sm {
      padding: 0.375rem 0.75rem;
      font-size: 0.875rem;
    }

    .log-success {
      color: #4ade80;
    }

    .log-error {
      color: #f87171;
    }
  </style>
</head>
<body>
  <div class="h-screen flex flex-col">
    <div class="bg-gradient-to-r from-blue-900 to-purple-900 p-4 shadow-lg">
      <h1 class="text-3xl font-bold">๐ Super Private Browser</h1>
      <p class="text-blue-200 text-sm">ูุงูุฐุฉ ุงูุชุญูู ูุงูุฅุนุฏุงุฏุงุช</p>
    </div>

    <div class="flex-1 overflow-y-auto p-4 space-y-4">
      <div class="grid grid-cols-2 gap-4">
        <div class="section">
          <div class="section-title">๐ ูุนูููุงุช ุงููููุน ุงูุฌุบุฑุงูู</div>
          <div class="space-y-2 text-sm">
            <p>IP: <span id="geo-ip" class="text-green-400 font-mono">?</span></p>
            <p>ุงูุฏููุฉ: <span id="geo-country" class="text-green-400">?</span></p>
            <p>ุงูุงุณู ุงููุงูู: <span id="geo-country-name" class="text-green-400">?</span></p>
            <p>ุฑูุฒ ุงูุฏููุฉ: <span id="geo-country-code" class="text-green-400 font-mono">?</span></p>
            <p>ุงููุฏููุฉ: <span id="geo-city" class="text-green-400">?</span></p>
            <p>ุงูุดุงุฑุน: <span id="geo-street" class="text-green-400">?</span></p>
            <p>ุงูุฑูุฒ ุงูุจุฑูุฏู: <span id="geo-zip" class="text-green-400 font-mono">?</span></p>
            <p>ุงูุฅุญุฏุงุซูุงุช: <span id="geo-coords" class="text-green-400 font-mono">?</span></p>
          </div>
          <button onclick="api.refreshGeo()" class="btn btn-primary btn-sm mt-4 w-full">
            ๐ ุชุญุฏูุซ ุงูุจูุงูุงุช
          </button>
        </div>

        <div class="section">
          <div class="section-title">๐ป ูุนูููุงุช ุงูุฌูุงุฒ</div>
          <div class="space-y-2 text-sm">
            <p>ุงููุนุงูุฌุงุช: <span id="spoof-cores" class="text-blue-400">?</span></p>
            <p>ุงูุฐุงูุฑุฉ: <span id="spoof-memory" class="text-blue-400">?</span> GB</p>
            <p>ุฏูุฉ ุงูุดุงุดุฉ: <span id="spoof-screen" class="text-blue-400">?</span></p>
            <p>ุงููุบุฉ: <span id="spoof-language" class="text-blue-400">?</span></p>
            <p>ุงูููุทูุฉ ุงูุฒูููุฉ: <span id="spoof-timezone" class="text-blue-400">?</span></p>
            <p>ุงูููุตุฉ: <span id="spoof-platform" class="text-blue-400">?</span></p>
            <p>ุงูุดุฑูุฉ: <span id="spoof-vendor" class="text-blue-400">?</span></p>
            <p>ุทุฑุงุฒ ุงูุฌูุงุฒ: <span id="spoof-device" class="text-blue-400">?</span></p>
            <p>ููุน ุงูุงุชุตุงู: <span id="spoof-connection" class="text-blue-400">?</span></p>
          </div>
        </div>

        <div class="section col-span-2">
          <div class="section-title">๐ ุฅุนุฏุงุฏุงุช ุงูุจุฑููุณู</div>
          <div class="grid grid-cols-3 gap-3 mb-3 text-sm">
            <select id="proxy-profile-select" class="form-input col-span-2">
              <option value="">ุงุฎุชุฑ ุจุฑููุณู ูุญููุธ...</option>
            </select>
            <button onclick="applyProxyProfile()" class="btn btn-primary btn-sm">ุชูุนูู</button>
          </div>
          <div class="grid grid-cols-3 gap-3 mb-3 text-sm">
            <input id="proxy-profile-name" type="text" placeholder="ุงุณู ุงูุจุฑููุณู ุงููุญููุธ" class="form-input col-span-2">
            <button onclick="saveProxyProfile()" class="btn btn-success btn-sm">ุญูุธ</button>
          </div>
          <div class="mb-3 text-sm">
            <button onclick="deleteProxyProfile()" class="btn btn-danger btn-sm w-full">ุญุฐู ุงูุจุฑููุณู ุงููุญุฏุฏ</button>
          </div>
          <div class="grid grid-cols-2 gap-3 mb-3">
            <input id="proxy-host" type="text" placeholder="ุนููุงู ุงูุจุฑููุณู (Host/IP)" class="form-input col-span-2">
            <input id="proxy-port" type="number" placeholder="ุงููููุฐ (Port)" class="form-input" value="8080">
            <select id="proxy-type" class="form-input">
              <option value="http">HTTP</option>
              <option value="https">HTTPS</option>
              <option value="socks5">SOCKS5</option>
              <option value="socks4">SOCKS4</option>
            </select>
          </div>
          <div class="grid grid-cols-2 gap-3 mb-3">
            <input id="proxy-user" type="text" placeholder="ุงุณู ุงููุณุชุฎุฏู (ุงุฎุชูุงุฑู)" class="form-input">
            <input id="proxy-pass" type="password" placeholder="ูููุฉ ุงููุฑูุฑ (ุงุฎุชูุงุฑู)" class="form-input">
          </div>
          <div class="grid grid-cols-2 gap-3 mb-3 text-sm">
            <label class="flex items-center gap-2">
              <input id="proxy-auth" type="checkbox" class="accent-blue-500">
              ุชูุนูู ุงููุตุงุฏูุฉ
            </label>
            <label class="flex items-center gap-2">
              <input id="proxy-bypass-local" type="checkbox" class="accent-blue-500" checked>
              ุงุณุชุซูุงุก ุงูุดุจูุงุช ุงููุญููุฉ
            </label>
          </div>
          <div class="mb-3">
            <input id="proxy-bypass" type="text" placeholder="ูุงุฆูุฉ ุชุฌุงูุฒ (ูุซุงู: example.com, *.local)" class="form-input">
          </div>
          <div class="flex gap-2">
            <button onclick="setProxy()" class="btn btn-success btn-sm flex-1">โ ุชูุนูู ุงูุจุฑููุณู</button>
            <button onclick="clearProxy()" class="btn btn-danger btn-sm flex-1">โ ุฅุฒุงูุฉ ุงูุจุฑููุณู</button>
          </div>
          <div id="proxy-status" class="mt-2 text-sm text-gray-400"></div>
        </div>

        <div class="section col-span-2">
          <div class="section-title">๐ญ ุฅุนุฏุงุฏุงุช ุงูุชุฒููุฑ (Fingerprinting)</div>
          <div class="space-y-3">
            <div>
              <label class="block text-sm font-medium mb-1">User Agent:</label>
              <textarea id="spoof-ua" class="form-input h-12" readonly></textarea>
            </div>

            <div class="grid grid-cols-3 gap-3">
              <div>
                <label class="block text-sm font-medium mb-1">Canvas Noise:</label>
                <input id="spoof-canvas" type="text" class="form-input" readonly>
              </div>
              <div>
                <label class="block text-sm font-medium mb-1">WebGL Vendor:</label>
                <input id="spoof-webgl-v" type="text" class="form-input" readonly>
              </div>
              <div>
                <label class="block text-sm font-medium mb-1">WebGL Renderer:</label>
                <input id="spoof-webgl-r" type="text" class="form-input" readonly>
              </div>
            </div>

            <div>
              <label class="block text-sm font-medium mb-1">ุงูุฎุทูุท:</label>
              <input id="spoof-fonts" type="text" class="form-input" readonly>
            </div>

            <div class="grid grid-cols-2 gap-3">
              <div>
                <label class="block text-sm font-medium mb-1">ุฅุตุฏุงุฑ TLS:</label>
                <input id="spoof-tls-ver" type="text" class="form-input" readonly>
              </div>
              <div>
                <label class="block text-sm font-medium mb-1">ุชุดููุฑ TLS:</label>
                <input id="spoof-tls-ciph" type="text" class="form-input" readonly>
              </div>
            </div>

            <div class="flex gap-2">
              <button onclick="generateRandomSpoof()" class="btn btn-primary btn-sm flex-1">
                ๐ฒ ุชูููุฏ ุนุดูุงุฆู
              </button>
              <button onclick="generateRandomSpoof(); startBrowser()" class="btn btn-success btn-sm flex-1">
                โถ ุชูููุฏ ูุจุฏุก
              </button>
            </div>
          </div>
        </div>

        <div class="section col-span-2">
          <div class="section-title">๐ก๏ธ ุฅุนุฏุงุฏุงุช ุงูุฎุตูุตูุฉ</div>
          <div class="grid grid-cols-3 gap-3 text-sm">
            <label class="flex items-center gap-2">
              <input id="privacy-trackers" type="checkbox" class="accent-blue-500">
              ุญุธุฑ ุงููุชุชุจุนุงุช
            </label>
            <label class="flex items-center gap-2">
              <input id="privacy-ads" type="checkbox" class="accent-blue-500">
              ุญุธุฑ ุงูุฅุนูุงูุงุช
            </label>
            <label class="flex items-center gap-2">
              <input id="privacy-cookies" type="checkbox" class="accent-blue-500">
              ุญุธุฑ ููููุฒ ุงูุทุฑู ุงูุซุงูุซ
            </label>
          </div>
          <div class="text-xs text-gray-400 mt-2">
            ูุชู ุชุทุจูู ุงูุชุบููุฑุงุช ูุจุงุดุฑุฉ ุนูู ุฌูุณุฉ ุงูุชุตูุญ ุงูุญุงููุฉ.
          </div>
        </div>

        <div class="section">
          <div class="section-title">โ๏ธ ุฅุฏุงุฑุฉ ุงูุฅุนุฏุงุฏุงุช</div>
          <div class="space-y-2 text-sm text-gray-300">
            <p>ูู ุจุญูุธ ุฅุนุฏุงุฏุงุชู ุงูุญุงููุฉ ุฃู ุงุณุชุนุงุฏุชูุง ูุงุญููุง.</p>
          </div>
          <div class="flex gap-2 mt-3">
            <button onclick="exportSettings()" class="btn btn-primary btn-sm flex-1">โฌ๏ธ ุชุตุฏูุฑ</button>
            <button onclick="importSettings()" class="btn btn-success btn-sm flex-1">โฌ๏ธ ุงุณุชูุฑุงุฏ</button>
          </div>
          <div id="settings-status" class="mt-2 text-xs text-gray-400"></div>
        </div>

        <div class="section">
          <div class="section-title">๐ก ูุฑุงูุจุฉ ุงูุดุจูุฉ</div>
          <div id="network-container" class="bg-gray-900 rounded p-3 h-40 overflow-y-auto font-mono text-xs space-y-1 border border-gray-700">
            <div class="text-gray-500">ูู ูุชู ุฑุตุฏ ุทูุจุงุช ุจุนุฏ...</div>
          </div>
        </div>
      </div>

      <div class="section col-span-2">
        <div class="section-title">๐ ุงูุณุฌูุงุช ูุงูุฃุฎุทุงุก</div>
        <div id="logs-container" class="bg-gray-900 rounded p-3 h-40 overflow-y-auto font-mono text-xs space-y-1 border border-gray-700">
          <div class="text-gray-500">ุฌุงุฑู ุงูุชุธุงุฑ ุงูุณุฌูุงุช...</div>
        </div>
      </div>
    </div>

    <div class="bg-gray-800 p-4 border-t border-gray-700 flex gap-3 justify-center">
      <button onclick="startBrowser()" class="btn btn-success px-8 py-3 text-lg">
        โถ ุงุจุฏุฃ ุงููุชุตูุญ
      </button>
      <button onclick="clearAllData()" class="btn btn-danger px-8 py-3 text-lg">
        ๐๏ธ ุญุฐู ุฌููุน ุงูุจูุงูุงุช
      </button>
    </div>
  </div>

  <script>
    window.api.onGeoUpdate(data => {
      document.getElementById('geo-ip').textContent = data.ip || '?';
      document.getElementById('geo-country').textContent = data.country || '?';
      document.getElementById('geo-country-name').textContent = data.countryName || '?';
      document.getElementById('geo-country-code').textContent = data.countryCode || '?';
      document.getElementById('geo-city').textContent = data.city || '?';
      document.getElementById('geo-street').textContent = data.street || '?';
      document.getElementById('geo-zip').textContent = data.postcode || '?';
      const coords = (data.lat && data.lon) ? `${data.lat.toFixed(4)}, ${data.lon.toFixed(4)}` : '?';
      document.getElementById('geo-coords').textContent = coords;
    });

    window.api.onSpoofUpdate(data => {
      document.getElementById('spoof-ua').value = data.ua || '';
      document.getElementById('spoof-canvas').value = (data.canvasNoise * 100).toFixed(1) + '%';
      document.getElementById('spoof-webgl-v').value = data.webglVendor || '';
      document.getElementById('spoof-webgl-r').value = data.webglRenderer || '';
      document.getElementById('spoof-fonts').value = (data.fonts || []).join(', ');
      document.getElementById('spoof-cores').textContent = data.hardwareConcurrency || '?';
      document.getElementById('spoof-memory').textContent = data.deviceMemory || '?';
      document.getElementById('spoof-screen').textContent = `${data.screenWidth}x${data.screenHeight}`;
      document.getElementById('spoof-language').textContent = data.language || '?';
      document.getElementById('spoof-timezone').textContent = data.timezone || '?';
      document.getElementById('spoof-platform').textContent = data.platform || '?';
      document.getElementById('spoof-vendor').textContent = data.vendor || '?';
      document.getElementById('spoof-device').textContent = data.deviceModel || '?';
      const connection = data.connection ? `${data.connection.effectiveType} โข ${data.connection.downlink}Mbps` : '?';
      document.getElementById('spoof-connection').textContent = connection;
      document.getElementById('spoof-tls-ver').value = data.tlsVersion || '';
      document.getElementById('spoof-tls-ciph').value = data.tlsCipher || '';
    });

    window.api.onProxyUpdate(config => {
      const status = document.getElementById('proxy-status');
      if (!config) {
        status.textContent = 'ูู ูุชู ุชุนููู ุจุฑููุณู';
        document.getElementById('proxy-auth').checked = false;
        document.getElementById('proxy-bypass-local').checked = true;
        document.getElementById('proxy-bypass').value = '';
        document.getElementById('proxy-host').value = '';
        document.getElementById('proxy-port').value = 8080;
        document.getElementById('proxy-type').value = 'http';
        document.getElementById('proxy-user').value = '';
        document.getElementById('proxy-pass').value = '';
        return;
      }
      status.textContent = `โ ุชู ุชุนููู: ${config.type}://${config.host}:${config.port}`;
      document.getElementById('proxy-auth').checked = !!config.authEnabled;
      document.getElementById('proxy-bypass-local').checked = !!config.bypassLocal;
      document.getElementById('proxy-bypass').value = config.bypassRules || '';
      document.getElementById('proxy-host').value = config.host || '';
      document.getElementById('proxy-port').value = config.port || 8080;
      document.getElementById('proxy-type').value = config.type || 'http';
      document.getElementById('proxy-user').value = config.username || '';
      document.getElementById('proxy-pass').value = '';
    });

    window.api.onProxyProfilesUpdate(data => {
      const select = document.getElementById('proxy-profile-select');
      select.innerHTML = '<option value="">ุงุฎุชุฑ ุจุฑููุณู ูุญููุธ...</option>';
      (data?.profiles || []).forEach(profile => {
        const option = document.createElement('option');
        option.value = profile.id;
        option.textContent = profile.name;
        if (data.activeId === profile.id) option.selected = true;
        select.appendChild(option);
      });
    });

    window.api.onPrivacyUpdate(settings => {
      document.getElementById('privacy-trackers').checked = !!settings.blockTrackers;
      document.getElementById('privacy-ads').checked = !!settings.blockAds;
      document.getElementById('privacy-cookies').checked = !!settings.blockThirdPartyCookies;
    });

    window.api.onLogUpdate(logs => {
      const container = document.getElementById('logs-container');
      if (logs.length === 0) {
        container.innerHTML = '<div class="text-gray-500">ูุง ุชูุฌุฏ ุณุฌูุงุช</div>';
        return;
      }
      container.innerHTML = logs.map(log => {
        const className = log.isError ? 'log-error' : 'log-success';
        return `<div class="${className}">[${log.time}] ${log.msg}</div>`;
      }).join('');
      container.scrollTop = 0;
    });

    window.api.onNetworkUpdate(logs => {
      const container = document.getElementById('network-container');
      if (!logs || logs.length === 0) {
        container.innerHTML = '<div class="text-gray-500">ูู ูุชู ุฑุตุฏ ุทูุจุงุช ุจุนุฏ...</div>';
        return;
      }
      container.innerHTML = logs.map(log => {
        const statusClass = log.status === 'blocked' || log.status === 'error'
          ? 'text-red-400'
          : 'text-green-400';
        const reason = log.reason ? ` - ${log.reason}` : '';
        return `<div><span class="${statusClass}">[${log.time}] ${log.status}</span> <span class="text-blue-300">${log.type || 'other'}</span> ${log.url}${reason}</div>`;
      }).join('');
      container.scrollTop = 0;
    });

    function setProxy() {
      const host = document.getElementById('proxy-host').value.trim();
      const port = document.getElementById('proxy-port').value.trim();
      const type = document.getElementById('proxy-type').value;
      const username = document.getElementById('proxy-user').value || '';
      const password = document.getElementById('proxy-pass').value || '';
      const authEnabled = document.getElementById('proxy-auth').checked;
      const bypassLocal = document.getElementById('proxy-bypass-local').checked;
      const bypassRules = document.getElementById('proxy-bypass').value.trim();

      if (!host || !port) {
        alert('ูุฑุฌู ุฅุฏุฎุงู ุนููุงู ูุจูุงูุงุช ุงูุงุชุตุงู');
        return;
      }

      api.setProxy({ host, port, type, username, password, authEnabled, bypassLocal, bypassRules });
      document.getElementById('proxy-status').textContent = `โ ุชู ุชุนููู: ${type}://${host}:${port}`;
    }

    function saveProxyProfile() {
      const name = document.getElementById('proxy-profile-name').value.trim();
      const host = document.getElementById('proxy-host').value.trim();
      const port = document.getElementById('proxy-port').value.trim();
      const type = document.getElementById('proxy-type').value;
      const username = document.getElementById('proxy-user').value || '';
      const password = document.getElementById('proxy-pass').value || '';
      const authEnabled = document.getElementById('proxy-auth').checked;
      const bypassLocal = document.getElementById('proxy-bypass-local').checked;
      const bypassRules = document.getElementById('proxy-bypass').value.trim();

      if (!name || !host || !port) {
        alert('ูุฑุฌู ุฅุฏุฎุงู ุงุณู ุงูุจุฑููุณู ูุงูุนููุงู ูุงููููุฐ');
        return;
      }

      api.saveProxyProfile({
        name,
        config: { host, port, type, username, password, authEnabled, bypassLocal, bypassRules }
      });
      document.getElementById('proxy-profile-name').value = '';
    }

    function applyProxyProfile() {
      const id = document.getElementById('proxy-profile-select').value;
      if (!id) return;
      api.selectProxyProfile(id);
    }

    function deleteProxyProfile() {
      const id = document.getElementById('proxy-profile-select').value;
      if (!id) return;
      api.deleteProxyProfile(id);
    }

    function clearProxy() {
      api.setProxy(null);
      document.getElementById('proxy-host').value = '';
      document.getElementById('proxy-port').value = 8080;
      document.getElementById('proxy-user').value = '';
      document.getElementById('proxy-pass').value = '';
      document.getElementById('proxy-auth').checked = false;
      document.getElementById('proxy-bypass-local').checked = true;
      document.getElementById('proxy-bypass').value = '';
      document.getElementById('proxy-status').textContent = 'ูู ูุชู ุชุนููู ุจุฑููุณู';
    }

    function generateRandomSpoof() {
      api.generateSpoof({ random: true });
    }

    function startBrowser() {
      window.api.startBrowser();
    }

    function updatePrivacySettings() {
      const settings = {
        blockTrackers: document.getElementById('privacy-trackers').checked,
        blockAds: document.getElementById('privacy-ads').checked,
        blockThirdPartyCookies: document.getElementById('privacy-cookies').checked
      };
      api.setPrivacy(settings);
    }

    async function exportSettings() {
      const result = await api.exportSettings();
      const status = document.getElementById('settings-status');
      if (result?.canceled) {
        status.textContent = 'ุชู ุฅูุบุงุก ุงูุชุตุฏูุฑ';
        return;
      }
      status.textContent = `ุชู ุงูุชุตุฏูุฑ ุฅูู: ${result.path}`;
    }

    async function importSettings() {
      const result = await api.importSettings();
      const status = document.getElementById('settings-status');
      if (result?.canceled) {
        status.textContent = 'ุชู ุฅูุบุงุก ุงูุงุณุชูุฑุงุฏ';
        return;
      }
      status.textContent = `ุชู ุงูุงุณุชูุฑุงุฏ ูู: ${result.path}`;
    }

    function clearAllData() {
      if (confirm('ูู ุฃูุช ูุชุฃูุฏ ูู ุฑุบุจุชู ูู ุญุฐู ุฌููุน ุงูุจูุงูุงุชุ')) {
        api.clearData();
      }
    }

    ['privacy-trackers', 'privacy-ads', 'privacy-cookies'].forEach(id => {
      document.getElementById(id).addEventListener('change', updatePrivacySettings);
    });

    window.api.refreshGeo();
  </script>
</body>
</html>
